<html>
  <head>
      <Title>UP776060 Final Year Project Web VR Dashboard Demo</Title>
      <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
        
        <a-assets>
        
            <img id="sky2" src="3602.jpg">
            <img id="demo1" src="panel2.jpg">
            <img id="demo2" src="panel1.jpg">
            <img id="demo3" src="changebg.jpg">
            <img id="sky1" src="3601.jpg">
            
        </a-assets>
        
        <a-sky id="sky" src="#sky1"></a-sky>
        
        <!-- to test on desktop set position to 0 1.6 -1, VR 0 0 -1 -->
        <a-entity id="welcomeText" position="0 1.6 -1" text="font: kelsonsans; color: white; value: Welcome to the app!; width:1.5; align: center; opacity: 0" >
            
            <a-animation attribute="text.opacity" begin="1500" to="1" dur="2000"></a-animation>
            <a-animation attribute="scale" begin="1500" to="1.5 1.5 1.5" dur="2000"></a-animation>
            <a-animation attribute="visible" delay="6500" to="false" dur="2000"></a-animation>
        
        </a-entity>
        
        <a-curvedimage id="card1" src="#demo1" transparent="false" height="2" radius="3.5" theta-length="60" position="0 1.6 -1" rotation="0 152 0" opacity="0">
            <a-animation attribute="opacity" begin="8500" to="1" dur="2000"></a-animation>
        </a-curvedimage>
        
        <a-curvedimage id="card2" src="#demo2" transparent="false" height="2" radius="3.5" theta-length="60" position="0 1.6 -1" rotation="0 -146 0" opacity="0">
            <a-animation attribute="opacity" begin="7000" to="1" dur="2000"></a-animation>
        </a-curvedimage>
        
        <a-curvedimage id="card3" src="#demo3" transparent="false" height="2" radius="3.5" theta-length="60" position="0 1.6 -1" rotation="0 89 0" opacity="0">
            <a-animation attribute="opacity" begin="10000" to="1" dur="2000"></a-animation>
        </a-curvedimage>
        
        <a-entity id="vars" position="0 1.95 -1" text="font: kelsonsans; color: white; value: ; width:1.5; align: center; opacity: 1" ></a-entity>
        
        <a-entity id="clock" position="0 1.18 -1" text="font: kelsonsans; color: white; value: ; width:1.5; align: center; opacity: 1" ></a-entity> 
        
        <a-entity camera="userHeight: 1.6" look-controls>
            <a-entity position="0 0 -3" scale="0.2 0.2 0.2" geometry="primitive: ring; radiusOuter: 0.20; radiusInner: 0.13;" material="color: blue; shader: flat" cursor="maxDistance: 20; fuse: true">
                        <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.2 0.2 0.2" to="0.5 0.5 0.5" dur="500"></a-animation>
                        <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="0.5 0.5 0.5" to="0.2 0.2 0.2" dur="1500"></a-animation>
                    </a-entity>
        </a-entity>
        
      </a-scene>
      
      <script>
          
          document.querySelector("#card3").addEventListener('click', function() {
                
                var bgColors = ['red','blue','green','yellow','pink','white'];
                var chosenCol = bgColors[Math.floor(Math.random() * bgColors.length)];
                console.log(chosenCol);
              
                localStorage.setItem('bgCol',chosenCol); document.querySelector('#sky').setAttribute('color',localStorage.getItem('bgCol'));
            });
          
          document.querySelector("#card2").addEventListener('click', function() {
              
              if(document.querySelector('#sky').getAttribute('src')=='#sky2'){
                  document.querySelector('#sky').setAttribute('src','#sky1');
              }
              else{
                  document.querySelector('#sky').setAttribute('src','#sky2');
              }
              
              //document.querySelector('#sky').setAttribute('src','#sky2');
              
          });
      
          storage = window.localStorage;
          localStorage.setItem('user','Brad');
          localStorage.setItem('bgCol','#222');
          localStorage.setItem('uiFont','kelsonsans');
          document.querySelector('#sky').setAttribute('color',localStorage.getItem('bgCol'));
          
          
         //var sceneEl = document.querySelector('a-scene');
         // console.log(sceneEl.querySelector('#Username'));
         document.querySelector('#welcomeText').setAttribute('text','value','Welcome Back, ' + localStorage.getItem('user'));
          
          setInterval(function(){
                document.querySelector("#clock").setAttribute('text','value',(new Date()).toLocaleTimeString());
          }, 1000);
          
          setInterval(function(){
                document.querySelector("#vars").setAttribute('text','value','Name: ' + localStorage.getItem('user') + ', Background Colour: ' + localStorage.getItem('bgCol') + ', UI Font: ' + localStorage.getItem('uiFont'));
          }, 1000);
          
          
      </script>
  </body>
</html>